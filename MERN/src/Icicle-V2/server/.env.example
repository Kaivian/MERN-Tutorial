# .env (or .env.development) - SERVER ENVIRONMENT (Node.js/Express)

# -----------------------------------------------------------------
# 1. Core Server & Database
# -----------------------------------------------------------------
# The port the server listens on.
PORT=5000

# MongoDB Connection String (Mongoose).
# Replace placeholders with your actual credentials.
DATABASE_URL=mongodb+srv://<username>:<password>@cluster0.abcde.mongodb.net/my_backend_db?retryWrites=true&w=majority

# -----------------------------------------------------------------
# 2. JWT Strategy (Access & Refresh Token Split)
# -----------------------------------------------------------------
# The 'iss' (Issuer) claim: Identifies the server that issued the token.
JWT_ISSUER=kaivian.dev.server

# The 'aud' (Audience) claims:
# [SYNC CHECK]: Must match 'NEXT_PUBLIC_CLIENT_AUDIENCE_ID' in Client .env
JWT_ACCESS_AUDIENCE_ID=kav-client-app-fe-2025
# Internal ID: Only the server should ever use the Refresh Token.
JWT_REFRESH_AUDIENCE_ID=kav-server-backend-renewal

# Access Token (Short-lived): Used for API Resource access.
JWT_ACCESS_SECRET=my-short-lived-access-token-secret-for-api-auth
JWT_ACCESS_EXPIRES_IN=15m

# Refresh Token (Long-lived): Used to regenerate Access Tokens.
JWT_REFRESH_SECRET=my-long-lived-refresh-token-secret-for-renewal
JWT_REFRESH_EXPIRES_IN=7d

# -----------------------------------------------------------------
# 3. Google OAuth Configuration (Secrets)
# -----------------------------------------------------------------
# [SYNC CHECK]: Must match 'NEXT_PUBLIC_GOOGLE_CLIENT_ID' in Client .env
GOOGLE_CLIENT_ID=1234567890-abcdefghijklmnopqrstuvwxyz.apps.googleusercontent.com

# The Secret Key from Google Cloud Console (Keep this safe!).
GOOGLE_CLIENT_SECRET=GOCSPX-ABCDEFGHI-JKLMNOPQRST-UVWXYZ

# The URL Google redirects to after successful login.
# Must match the 'Authorized redirect URI' in Google Cloud Console.
GOOGLE_CALLBACK_URL=http://localhost:5000/api/v1/auth/google/callback

# -----------------------------------------------------------------
# 4. Security Utilities
# -----------------------------------------------------------------
# Secret key for signing/parsing cookies.
COOKIE_SECRET=another-super-secret-key-for-cookies

# CORS Policy: Which domains are allowed to access this API?
# [SYNC CHECK]: Must include the 'NEXT_PUBLIC_CLIENT_URL'
ALLOWED_ORIGINS=http://localhost:3000,https://www.yourdomain.com

# -----------------------------------------------------------------
# 5. Email Service (Optional - for Reset Password)
# -----------------------------------------------------------------
EMAIL_USERNAME=my-email-service-username
EMAIL_PASSWORD=my-email-service-password-app-specific
EMAIL_HOST=smtp.mailtrap.io
EMAIL_PORT=2525